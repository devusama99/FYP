{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport Popper from \"@scaleflex/ui/core/popper\";\nimport { useStore } from \"../../../hooks\";\nimport { SET_LATEST_COLOR } from \"../../../actions\";\nimport { StyledColorPicker, StyledPickerTrigger } from \"./ColorInput.styled\";\n\nvar pinnedColorsKey = \"FIE_pinnedColors\",\n    ColorInput = function (a) {\n  var b,\n      c = a.position,\n      d = void 0 === c ? \"top\" : c,\n      e = a.onChange,\n      f = a.color,\n      g = useStore(),\n      h = g.selectionsIds,\n      i = void 0 === h ? [] : h,\n      j = g.config.annotationsCommon,\n      k = void 0 === j ? {} : j,\n      l = g.dispatch,\n      m = g.latestColor,\n      n = useState(),\n      o = _slicedToArray(n, 2),\n      p = o[0],\n      q = o[1],\n      r = useState(function () {\n    return m || f || k.fill;\n  }),\n      s = _slicedToArray(r, 2),\n      t = s[0],\n      u = s[1],\n      v = useState(null !== (b = window) && void 0 !== b && b.localStorage ? JSON.parse(localStorage.getItem(pinnedColorsKey) || \"[]\") : []),\n      w = _slicedToArray(v, 2),\n      x = w[0],\n      y = w[1],\n      z = function (a) {\n    var b;\n\n    if (null !== (b = window) && void 0 !== b && b.localStorage) {\n      var c = window.localStorage.getItem(pinnedColorsKey);\n\n      if (JSON.stringify(a) !== c) {\n        var d = a.slice(-9);\n        window.localStorage.setItem(pinnedColorsKey, JSON.stringify(d)), y(d);\n      }\n    }\n  },\n      A = function (a) {\n    q(p ? null : a.currentTarget);\n  };\n\n  return useEffect(function () {\n    var a = 0 === i.length && m || f;\n    u(a), e(a);\n  }, [f, i]), React.createElement(React.Fragment, null, React.createElement(StyledPickerTrigger, {\n    className: \"FIE_color-picker-triggerer\",\n    onClick: A,\n    $color: t,\n    onChange: e\n  }), React.createElement(Popper, {\n    className: \"FIE_color-picker\",\n    anchorEl: p,\n    open: !!p,\n    position: d,\n    onClick: A,\n    overlay: !0,\n    zIndex: 11111\n  }, React.createElement(StyledColorPicker, {\n    onChange: function changeColor(a, b, c) {\n      u(b), e(b), z(c), m !== b && l({\n        type: SET_LATEST_COLOR,\n        payload: {\n          latestColor: b\n        }\n      });\n    },\n    defaultColor: t,\n    pinnedColors: x,\n    showTransparentColor: !0\n  })));\n};\n\nColorInput.defaultProps = {\n  position: \"top\",\n  color: void 0\n};\nexport default ColorInput;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/components/common/ColorInput/index.js"],"names":["_slicedToArray","React","useEffect","useState","Popper","useStore","SET_LATEST_COLOR","StyledColorPicker","StyledPickerTrigger","pinnedColorsKey","ColorInput","a","b","c","position","d","e","onChange","f","color","g","h","selectionsIds","i","j","config","annotationsCommon","k","l","dispatch","m","latestColor","n","o","p","q","r","fill","s","t","u","v","window","localStorage","JSON","parse","getItem","w","x","y","z","stringify","slice","setItem","A","currentTarget","length","createElement","Fragment","className","onClick","$color","anchorEl","open","overlay","zIndex","changeColor","type","payload","defaultColor","pinnedColors","showTransparentColor","defaultProps"],"mappings":"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","sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import Popper from\"@scaleflex/ui/core/popper\";import{useStore}from\"../../../hooks\";import{SET_LATEST_COLOR}from\"../../../actions\";import{StyledColorPicker,StyledPickerTrigger}from\"./ColorInput.styled\";var pinnedColorsKey=\"FIE_pinnedColors\",ColorInput=function(a){var b,c=a.position,d=void 0===c?\"top\":c,e=a.onChange,f=a.color,g=useStore(),h=g.selectionsIds,i=void 0===h?[]:h,j=g.config.annotationsCommon,k=void 0===j?{}:j,l=g.dispatch,m=g.latestColor,n=useState(),o=_slicedToArray(n,2),p=o[0],q=o[1],r=useState(function(){return m||f||k.fill}),s=_slicedToArray(r,2),t=s[0],u=s[1],v=useState(null!==(b=window)&&void 0!==b&&b.localStorage?JSON.parse(localStorage.getItem(pinnedColorsKey)||\"[]\"):[]),w=_slicedToArray(v,2),x=w[0],y=w[1],z=function(a){var b;if(null!==(b=window)&&void 0!==b&&b.localStorage){var c=window.localStorage.getItem(pinnedColorsKey);if(JSON.stringify(a)!==c){var d=a.slice(-9);window.localStorage.setItem(pinnedColorsKey,JSON.stringify(d)),y(d)}}},A=function(a){q(p?null:a.currentTarget)};return useEffect(function(){var a=0===i.length&&m||f;u(a),e(a)},[f,i]),React.createElement(React.Fragment,null,React.createElement(StyledPickerTrigger,{className:\"FIE_color-picker-triggerer\",onClick:A,$color:t,onChange:e}),React.createElement(Popper,{className:\"FIE_color-picker\",anchorEl:p,open:!!p,position:d,onClick:A,overlay:!0,zIndex:11111},React.createElement(StyledColorPicker,{onChange:function changeColor(a,b,c){u(b),e(b),z(c),m!==b&&l({type:SET_LATEST_COLOR,payload:{latestColor:b}})},defaultColor:t,pinnedColors:x,showTransparentColor:!0})))};ColorInput.defaultProps={position:\"top\",color:void 0};export default ColorInput;"]},"metadata":{},"sourceType":"module"}