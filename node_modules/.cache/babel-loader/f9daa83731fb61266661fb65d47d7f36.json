{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport IconButton from \"@scaleflex/ui/core/icon-button\";\nimport DeleteOutline from \"@scaleflex/icons/delete-outline\";\nimport Duplicate from \"@scaleflex/icons/duplicate\";\nimport { useStore } from \"../../hooks\";\nimport { DUPLICATE_ANNOTATIONS, REMOVE_ANNOTATIONS } from \"../../actions\";\nimport { NODES_TRANSFORMER_ID, WATERMARK_ANNOTATION_ID } from \"../../utils/constants\";\nimport debounce from \"../../utils/debounce\";\nimport { StyledNodeControls } from \"./NodeControls.styled\";\n\nvar NodeControls = function () {\n  var a = useStore(),\n      b = a.selectionsIds,\n      c = void 0 === b ? [] : b,\n      d = a.designLayer,\n      e = a.annotations,\n      f = a.dispatch,\n      g = useState({\n    left: 0,\n    top: 0\n  }),\n      h = _slicedToArray(g, 2),\n      i = h[0],\n      j = h[1],\n      k = useMemo(function () {\n    var a;\n    return null === d || void 0 === d || null === (a = d.getStage()) || void 0 === a ? void 0 : a.findOne(\"#\".concat(NODES_TRANSFORMER_ID));\n  }, [d]),\n      l = c.length,\n      m = debounce(function () {\n    k && j({\n      left: (k.x() + k.width() / 2) * k.scaleX(),\n      top: (k.y() + k.height()) * k.scaleY()\n    });\n  }, 0);\n\n  if (useEffect(function () {\n    m();\n  }, [c, k, e]), 0 === l || !k) return null;\n  return React.createElement(StyledNodeControls, {\n    className: \"FIE_annotation-controls-overlay\",\n    left: i.left,\n    top: i.top\n  }, c[0] !== WATERMARK_ANNOTATION_ID && React.createElement(IconButton, {\n    color: \"link\",\n    size: \"sm\",\n    onClick: function duplicateSelectedNodes() {\n      f({\n        type: DUPLICATE_ANNOTATIONS,\n        payload: {\n          annotationsIds: c\n        }\n      });\n    }\n  }, React.createElement(Duplicate, null)), React.createElement(IconButton, {\n    color: \"link\",\n    size: \"sm\",\n    onClick: function removeSelectedNodes() {\n      f({\n        type: REMOVE_ANNOTATIONS,\n        payload: {\n          annotationsIds: c\n        }\n      });\n    }\n  }, React.createElement(DeleteOutline, null)));\n};\n\nexport default NodeControls;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/components/NodeControls/index.js"],"names":["_slicedToArray","React","useEffect","useMemo","useState","IconButton","DeleteOutline","Duplicate","useStore","DUPLICATE_ANNOTATIONS","REMOVE_ANNOTATIONS","NODES_TRANSFORMER_ID","WATERMARK_ANNOTATION_ID","debounce","StyledNodeControls","NodeControls","a","b","selectionsIds","c","d","designLayer","e","annotations","f","dispatch","g","left","top","h","i","j","k","getStage","findOne","concat","l","length","m","x","width","scaleX","y","height","scaleY","createElement","className","color","size","onClick","duplicateSelectedNodes","type","payload","annotationsIds","removeSelectedNodes"],"mappings":"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","sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useMemo,useState}from\"react\";import IconButton from\"@scaleflex/ui/core/icon-button\";import DeleteOutline from\"@scaleflex/icons/delete-outline\";import Duplicate from\"@scaleflex/icons/duplicate\";import{useStore}from\"../../hooks\";import{DUPLICATE_ANNOTATIONS,REMOVE_ANNOTATIONS}from\"../../actions\";import{NODES_TRANSFORMER_ID,WATERMARK_ANNOTATION_ID}from\"../../utils/constants\";import debounce from\"../../utils/debounce\";import{StyledNodeControls}from\"./NodeControls.styled\";var NodeControls=function(){var a=useStore(),b=a.selectionsIds,c=void 0===b?[]:b,d=a.designLayer,e=a.annotations,f=a.dispatch,g=useState({left:0,top:0}),h=_slicedToArray(g,2),i=h[0],j=h[1],k=useMemo(function(){var a;return null===d||void 0===d||null===(a=d.getStage())||void 0===a?void 0:a.findOne(\"#\".concat(NODES_TRANSFORMER_ID))},[d]),l=c.length,m=debounce(function(){k&&j({left:(k.x()+k.width()/2)*k.scaleX(),top:(k.y()+k.height())*k.scaleY()})},0);if(useEffect(function(){m()},[c,k,e]),0===l||!k)return null;return React.createElement(StyledNodeControls,{className:\"FIE_annotation-controls-overlay\",left:i.left,top:i.top},c[0]!==WATERMARK_ANNOTATION_ID&&React.createElement(IconButton,{color:\"link\",size:\"sm\",onClick:function duplicateSelectedNodes(){f({type:DUPLICATE_ANNOTATIONS,payload:{annotationsIds:c}})}},React.createElement(Duplicate,null)),React.createElement(IconButton,{color:\"link\",size:\"sm\",onClick:function removeSelectedNodes(){f({type:REMOVE_ANNOTATIONS,payload:{annotationsIds:c}})}},React.createElement(DeleteOutline,null)))};export default NodeControls;"]},"metadata":{},"sourceType":"module"}