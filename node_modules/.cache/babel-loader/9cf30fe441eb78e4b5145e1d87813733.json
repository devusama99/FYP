{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"isDesignState\"];\n\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n\n  return c;\n}\n\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n\n  return a;\n}\n\nimport { useReducer } from \"react\";\nimport { REDO, RESET, UNDO } from \"../actions\";\nimport extractCurrentDesignState from \"../utils/extractCurrentDesignState\";\n\nvar timeout,\n    useAppReducer = function (a, b) {\n  var c = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : {},\n      d = _objectSpread(_objectSpread({}, b), {}, {\n    pastDesignStates: [],\n    futureDesignStates: [],\n    hasRedo: !1,\n    hasUndo: !1\n  });\n\n  return useReducer(function undoRedoResetReducer(b, e) {\n    var f = a(b, e) || d;\n    if ([UNDO, REDO, RESET].includes(e.type)) return f;\n\n    if (f.isDesignState) {\n      var g = extractCurrentDesignState(b),\n          h = f.isDesignState,\n          i = _objectWithoutProperties(f, _excluded),\n          j = _objectSpread(_objectSpread({}, i), {}, {\n        pastDesignStates: [g].concat(_toConsumableArray(b.pastDesignStates)),\n        hasUndo: !0,\n        hasRedo: !1,\n        futureDesignStates: [],\n        isResetted: !1,\n        haveNotSavedChanges: !0\n      });\n\n      return timeout = setTimeout(function () {\n        clearTimeout(timeout), \"function\" == typeof c.onModify && c.onModify(j);\n      }), j;\n    }\n\n    return f;\n  }, d);\n};\n\nexport default useAppReducer;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/hooks/useAppReducer.js"],"names":["_toConsumableArray","_objectWithoutProperties","_defineProperty","_excluded","ownKeys","a","b","c","Object","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","useReducer","REDO","RESET","UNDO","extractCurrentDesignState","timeout","useAppReducer","pastDesignStates","futureDesignStates","hasRedo","hasUndo","undoRedoResetReducer","e","f","includes","type","isDesignState","g","h","i","j","concat","isResetted","haveNotSavedChanges","setTimeout","clearTimeout","onModify"],"mappings":"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","sourcesContent":["import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";var _excluded=[\"isDesignState\"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import{useReducer}from\"react\";import{REDO,RESET,UNDO}from\"../actions\";import extractCurrentDesignState from\"../utils/extractCurrentDesignState\";var timeout,useAppReducer=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},d=_objectSpread(_objectSpread({},b),{},{pastDesignStates:[],futureDesignStates:[],hasRedo:!1,hasUndo:!1});return useReducer(function undoRedoResetReducer(b,e){var f=a(b,e)||d;if([UNDO,REDO,RESET].includes(e.type))return f;if(f.isDesignState){var g=extractCurrentDesignState(b),h=f.isDesignState,i=_objectWithoutProperties(f,_excluded),j=_objectSpread(_objectSpread({},i),{},{pastDesignStates:[g].concat(_toConsumableArray(b.pastDesignStates)),hasUndo:!0,hasRedo:!1,futureDesignStates:[],isResetted:!1,haveNotSavedChanges:!0});return timeout=setTimeout(function(){clearTimeout(timeout),\"function\"==typeof c.onModify&&c.onModify(j)}),j}return f},d)};export default useAppReducer;"]},"metadata":{},"sourceType":"module"}