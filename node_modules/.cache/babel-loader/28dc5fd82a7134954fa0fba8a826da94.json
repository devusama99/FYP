{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport React, { useMemo } from \"react\";\nimport Menu from \"@scaleflex/ui/core/menu\";\nimport { SET_CROP, SET_RESIZE, ZOOM_CANVAS } from \"../../../actions\";\nimport { useStore } from \"../../../hooks\";\nimport { StyledToolsBarItemButtonLabel } from \"../../ToolsBar/ToolsBar.styled\";\nimport { DEFAULT_ZOOM_FACTOR, TOOLS_IDS } from \"../../../utils/constants\";\nimport toPrecisedFloat from \"../../../utils/toPrecisedFloat\";\nimport getZoomFitFactor from \"../../../utils/getZoomFitFactor\";\nimport { StyledOpenMenuButton } from \"./Crop.styled\";\nimport { DEFAULT_CROP_PRESETS } from \"./Crop.constants\";\nimport CropPresetGroupsList from \"./CropPresetGroupsFolder\";\nimport CropPresetItem from \"./CropPresetItem\";\n\nvar PREFIX_ICONS_DIMENS = {\n  height: 16,\n  width: 16\n},\n    CropPresetsOption = function (a) {\n  var b = a.anchorEl,\n      c = a.onClose,\n      d = useStore(),\n      f = d.dispatch,\n      g = d.t,\n      e = d.adjustments;\n  e = void 0 === e ? {} : e;\n  var h = e.crop;\n  h = void 0 === h ? {} : h;\n\n  var i = h.ratio,\n      j = h.ratioTitleKey,\n      k = h.ratioFolderKey,\n      l = d.shownImageDimensions,\n      m = d.config,\n      n = m[TOOLS_IDS.CROP],\n      o = useMemo(function () {\n    var a = n.presetsItems,\n        b = void 0 === a ? [] : a,\n        c = n.presetsFolders,\n        d = void 0 === c ? [] : c;\n    return [].concat(_toConsumableArray(d), _toConsumableArray(DEFAULT_CROP_PRESETS), _toConsumableArray(b));\n  }, [n]),\n      p = function (a, b, d) {\n    a.stopPropagation();\n    var e = {\n      ratio: b,\n      ratioTitleKey: d.ratioTitleKey,\n      ratioGroupKey: d.ratioGroupKey,\n      ratioFolderKey: d.ratioFolderKey\n    };\n    f({\n      type: SET_CROP,\n      payload: e\n    }), n.autoResize && (f({\n      type: SET_RESIZE,\n      payload: {\n        width: d.width,\n        height: d.height,\n        manualChangeDisabled: d.disableManualResize\n      }\n    }), f({\n      type: ZOOM_CANVAS,\n      payload: {\n        factor: d.width > l.width || d.height > l.height ? getZoomFitFactor(l, d) : DEFAULT_ZOOM_FACTOR\n      }\n    })), c();\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(StyledToolsBarItemButtonLabel, {\n    className: \"FIE_crop-tool-label FIE_selected-crop-preset-label\"\n  }, g(j || \"cropTool\")), React.createElement(StyledOpenMenuButton, {\n    className: \"FIE_crop-presets-opener-button\",\n    color: \"link\",\n    size: \"lg\"\n  }, b ? React.createElement(React.Fragment, null, \"\\u25B4\") : React.createElement(React.Fragment, null, \"\\u25BE\")), React.createElement(Menu, {\n    className: \"FIE_crop-presets-menu\",\n    anchorEl: b,\n    enableOverlay: !0,\n    onClose: c,\n    open: !!b,\n    position: \"top\"\n  }, o.map(function renderPreset(a) {\n    var b = a.titleKey,\n        c = a.descriptionKey,\n        d = a.ratio,\n        e = a.width,\n        f = a.height,\n        h = a.groups,\n        j = a.icon,\n        l = a.disableManualResize;\n    return h ? React.createElement(CropPresetGroupsList, {\n      key: b,\n      titleKey: b,\n      groups: h,\n      Icon: j,\n      onItemSelect: p,\n      prefixIconDimensions: PREFIX_ICONS_DIMENS,\n      t: g,\n      disableManualResize: l\n    }) : React.createElement(CropPresetItem, {\n      key: d,\n      ratio: null !== d && void 0 !== d ? d : toPrecisedFloat(e / f),\n      titleKey: b,\n      t: g,\n      description: g(c),\n      Icon: j,\n      isActive: i === (null !== d && void 0 !== d ? d : toPrecisedFloat(e / f)) && !k,\n      width: e,\n      height: f,\n      onClick: p,\n      disableManualResize: l\n    });\n  })));\n};\n\nCropPresetsOption.defaultProps = {\n  anchorEl: null\n};\nexport default CropPresetsOption;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/components/tools/Crop/CropPresetsOption.js"],"names":["_toConsumableArray","React","useMemo","Menu","SET_CROP","SET_RESIZE","ZOOM_CANVAS","useStore","StyledToolsBarItemButtonLabel","DEFAULT_ZOOM_FACTOR","TOOLS_IDS","toPrecisedFloat","getZoomFitFactor","StyledOpenMenuButton","DEFAULT_CROP_PRESETS","CropPresetGroupsList","CropPresetItem","PREFIX_ICONS_DIMENS","height","width","CropPresetsOption","a","b","anchorEl","c","onClose","d","f","dispatch","g","t","e","adjustments","h","crop","i","ratio","j","ratioTitleKey","k","ratioFolderKey","l","shownImageDimensions","m","config","n","CROP","o","presetsItems","presetsFolders","concat","p","stopPropagation","ratioGroupKey","type","payload","autoResize","manualChangeDisabled","disableManualResize","factor","createElement","Fragment","className","color","size","enableOverlay","open","position","map","renderPreset","titleKey","descriptionKey","groups","icon","key","Icon","onItemSelect","prefixIconDimensions","description","isActive","onClick","defaultProps"],"mappings":"AAAA,OAAOA,kBAAP,MAA8B,0CAA9B;AAAyE,OAAOC,KAAP,IAAcC,OAAd,QAA0B,OAA1B;AAAkC,OAAOC,IAAP,MAAgB,yBAAhB;AAA0C,SAAOC,QAAP,EAAgBC,UAAhB,EAA2BC,WAA3B,QAA2C,kBAA3C;AAA8D,SAAOC,QAAP,QAAoB,gBAApB;AAAqC,SAAOC,6BAAP,QAAyC,gCAAzC;AAA0E,SAAOC,mBAAP,EAA2BC,SAA3B,QAAyC,0BAAzC;AAAoE,OAAOC,eAAP,MAA2B,gCAA3B;AAA4D,OAAOC,gBAAP,MAA4B,iCAA5B;AAA8D,SAAOC,oBAAP,QAAgC,eAAhC;AAAgD,SAAOC,oBAAP,QAAgC,kBAAhC;AAAmD,OAAOC,oBAAP,MAAgC,0BAAhC;AAA2D,OAAOC,cAAP,MAA0B,kBAA1B;;AAA6C,IAAIC,mBAAmB,GAAC;AAACC,EAAAA,MAAM,EAAC,EAAR;AAAWC,EAAAA,KAAK,EAAC;AAAjB,CAAxB;AAAA,IAA6CC,iBAAiB,GAAC,UAASC,CAAT,EAAW;AAAC,MAAIC,CAAC,GAACD,CAAC,CAACE,QAAR;AAAA,MAAiBC,CAAC,GAACH,CAAC,CAACI,OAArB;AAAA,MAA6BC,CAAC,GAACnB,QAAQ,EAAvC;AAAA,MAA0CoB,CAAC,GAACD,CAAC,CAACE,QAA9C;AAAA,MAAuDC,CAAC,GAACH,CAAC,CAACI,CAA3D;AAAA,MAA6DC,CAAC,GAACL,CAAC,CAACM,WAAjE;AAA6ED,EAAAA,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAhB;AAAkB,MAAIE,CAAC,GAACF,CAAC,CAACG,IAAR;AAAaD,EAAAA,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAhB;;AAAkB,MAAIE,CAAC,GAACF,CAAC,CAACG,KAAR;AAAA,MAAcC,CAAC,GAACJ,CAAC,CAACK,aAAlB;AAAA,MAAgCC,CAAC,GAACN,CAAC,CAACO,cAApC;AAAA,MAAmDC,CAAC,GAACf,CAAC,CAACgB,oBAAvD;AAAA,MAA4EC,CAAC,GAACjB,CAAC,CAACkB,MAAhF;AAAA,MAAuFC,CAAC,GAACF,CAAC,CAACjC,SAAS,CAACoC,IAAX,CAA1F;AAAA,MAA2GC,CAAC,GAAC7C,OAAO,CAAC,YAAU;AAAC,QAAImB,CAAC,GAACwB,CAAC,CAACG,YAAR;AAAA,QAAqB1B,CAAC,GAAC,KAAK,CAAL,KAASD,CAAT,GAAW,EAAX,GAAcA,CAArC;AAAA,QAAuCG,CAAC,GAACqB,CAAC,CAACI,cAA3C;AAAA,QAA0DvB,CAAC,GAAC,KAAK,CAAL,KAASF,CAAT,GAAW,EAAX,GAAcA,CAA1E;AAA4E,WAAM,GAAG0B,MAAH,CAAUlD,kBAAkB,CAAC0B,CAAD,CAA5B,EAAgC1B,kBAAkB,CAACc,oBAAD,CAAlD,EAAyEd,kBAAkB,CAACsB,CAAD,CAA3F,CAAN;AAAsG,GAA9L,EAA+L,CAACuB,CAAD,CAA/L,CAApH;AAAA,MAAwTM,CAAC,GAAC,UAAS9B,CAAT,EAAWC,CAAX,EAAaI,CAAb,EAAe;AAACL,IAAAA,CAAC,CAAC+B,eAAF;AAAoB,QAAIrB,CAAC,GAAC;AAACK,MAAAA,KAAK,EAACd,CAAP;AAASgB,MAAAA,aAAa,EAACZ,CAAC,CAACY,aAAzB;AAAuCe,MAAAA,aAAa,EAAC3B,CAAC,CAAC2B,aAAvD;AAAqEb,MAAAA,cAAc,EAACd,CAAC,CAACc;AAAtF,KAAN;AAA4Gb,IAAAA,CAAC,CAAC;AAAC2B,MAAAA,IAAI,EAAClD,QAAN;AAAemD,MAAAA,OAAO,EAACxB;AAAvB,KAAD,CAAD,EAA6Bc,CAAC,CAACW,UAAF,KAAe7B,CAAC,CAAC;AAAC2B,MAAAA,IAAI,EAACjD,UAAN;AAAiBkD,MAAAA,OAAO,EAAC;AAACpC,QAAAA,KAAK,EAACO,CAAC,CAACP,KAAT;AAAeD,QAAAA,MAAM,EAACQ,CAAC,CAACR,MAAxB;AAA+BuC,QAAAA,oBAAoB,EAAC/B,CAAC,CAACgC;AAAtD;AAAzB,KAAD,CAAD,EAAwG/B,CAAC,CAAC;AAAC2B,MAAAA,IAAI,EAAChD,WAAN;AAAkBiD,MAAAA,OAAO,EAAC;AAACI,QAAAA,MAAM,EAACjC,CAAC,CAACP,KAAF,GAAQsB,CAAC,CAACtB,KAAV,IAAiBO,CAAC,CAACR,MAAF,GAASuB,CAAC,CAACvB,MAA5B,GAAmCN,gBAAgB,CAAC6B,CAAD,EAAGf,CAAH,CAAnD,GAAyDjB;AAAjE;AAA1B,KAAD,CAAxH,CAA7B,EAAyQe,CAAC,EAA1Q;AAA6Q,GAAvtB;;AAAwtB,SAAOvB,KAAK,CAAC2D,aAAN,CAAoB3D,KAAK,CAAC4D,QAA1B,EAAmC,IAAnC,EAAwC5D,KAAK,CAAC2D,aAAN,CAAoBpD,6BAApB,EAAkD;AAACsD,IAAAA,SAAS,EAAC;AAAX,GAAlD,EAAmHjC,CAAC,CAACQ,CAAC,IAAE,UAAJ,CAApH,CAAxC,EAA6KpC,KAAK,CAAC2D,aAAN,CAAoB/C,oBAApB,EAAyC;AAACiD,IAAAA,SAAS,EAAC,gCAAX;AAA4CC,IAAAA,KAAK,EAAC,MAAlD;AAAyDC,IAAAA,IAAI,EAAC;AAA9D,GAAzC,EAA6G1C,CAAC,GAACrB,KAAK,CAAC2D,aAAN,CAAoB3D,KAAK,CAAC4D,QAA1B,EAAmC,IAAnC,EAAwC,QAAxC,CAAD,GAAmD5D,KAAK,CAAC2D,aAAN,CAAoB3D,KAAK,CAAC4D,QAA1B,EAAmC,IAAnC,EAAwC,QAAxC,CAAjK,CAA7K,EAAiY5D,KAAK,CAAC2D,aAAN,CAAoBzD,IAApB,EAAyB;AAAC2D,IAAAA,SAAS,EAAC,uBAAX;AAAmCvC,IAAAA,QAAQ,EAACD,CAA5C;AAA8C2C,IAAAA,aAAa,EAAC,CAAC,CAA7D;AAA+DxC,IAAAA,OAAO,EAACD,CAAvE;AAAyE0C,IAAAA,IAAI,EAAC,CAAC,CAAC5C,CAAhF;AAAkF6C,IAAAA,QAAQ,EAAC;AAA3F,GAAzB,EAA2HpB,CAAC,CAACqB,GAAF,CAAM,SAASC,YAAT,CAAsBhD,CAAtB,EAAwB;AAAC,QAAIC,CAAC,GAACD,CAAC,CAACiD,QAAR;AAAA,QAAiB9C,CAAC,GAACH,CAAC,CAACkD,cAArB;AAAA,QAAoC7C,CAAC,GAACL,CAAC,CAACe,KAAxC;AAAA,QAA8CL,CAAC,GAACV,CAAC,CAACF,KAAlD;AAAA,QAAwDQ,CAAC,GAACN,CAAC,CAACH,MAA5D;AAAA,QAAmEe,CAAC,GAACZ,CAAC,CAACmD,MAAvE;AAAA,QAA8EnC,CAAC,GAAChB,CAAC,CAACoD,IAAlF;AAAA,QAAuFhC,CAAC,GAACpB,CAAC,CAACqC,mBAA3F;AAA+G,WAAOzB,CAAC,GAAChC,KAAK,CAAC2D,aAAN,CAAoB7C,oBAApB,EAAyC;AAAC2D,MAAAA,GAAG,EAACpD,CAAL;AAAOgD,MAAAA,QAAQ,EAAChD,CAAhB;AAAkBkD,MAAAA,MAAM,EAACvC,CAAzB;AAA2B0C,MAAAA,IAAI,EAACtC,CAAhC;AAAkCuC,MAAAA,YAAY,EAACzB,CAA/C;AAAiD0B,MAAAA,oBAAoB,EAAC5D,mBAAtE;AAA0Fa,MAAAA,CAAC,EAACD,CAA5F;AAA8F6B,MAAAA,mBAAmB,EAACjB;AAAlH,KAAzC,CAAD,GAAgKxC,KAAK,CAAC2D,aAAN,CAAoB5C,cAApB,EAAmC;AAAC0D,MAAAA,GAAG,EAAChD,CAAL;AAAOU,MAAAA,KAAK,EAAC,SAAOV,CAAP,IAAU,KAAK,CAAL,KAASA,CAAnB,GAAqBA,CAArB,GAAuBf,eAAe,CAACoB,CAAC,GAACJ,CAAH,CAAnD;AAAyD2C,MAAAA,QAAQ,EAAChD,CAAlE;AAAoEQ,MAAAA,CAAC,EAACD,CAAtE;AAAwEiD,MAAAA,WAAW,EAACjD,CAAC,CAACL,CAAD,CAArF;AAAyFmD,MAAAA,IAAI,EAACtC,CAA9F;AAAgG0C,MAAAA,QAAQ,EAAC5C,CAAC,MAAI,SAAOT,CAAP,IAAU,KAAK,CAAL,KAASA,CAAnB,GAAqBA,CAArB,GAAuBf,eAAe,CAACoB,CAAC,GAACJ,CAAH,CAA1C,CAAD,IAAmD,CAACY,CAA7J;AAA+JpB,MAAAA,KAAK,EAACY,CAArK;AAAuKb,MAAAA,MAAM,EAACS,CAA9K;AAAgLqD,MAAAA,OAAO,EAAC7B,CAAxL;AAA0LO,MAAAA,mBAAmB,EAACjB;AAA9M,KAAnC,CAAxK;AAA6Z,GAA3iB,CAA3H,CAAjY,CAAP;AAAkjC,CAAn9D;;AAAo9DrB,iBAAiB,CAAC6D,YAAlB,GAA+B;AAAC1D,EAAAA,QAAQ,EAAC;AAAV,CAA/B;AAA+C,eAAeH,iBAAf","sourcesContent":["import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import React,{useMemo}from\"react\";import Menu from\"@scaleflex/ui/core/menu\";import{SET_CROP,SET_RESIZE,ZOOM_CANVAS}from\"../../../actions\";import{useStore}from\"../../../hooks\";import{StyledToolsBarItemButtonLabel}from\"../../ToolsBar/ToolsBar.styled\";import{DEFAULT_ZOOM_FACTOR,TOOLS_IDS}from\"../../../utils/constants\";import toPrecisedFloat from\"../../../utils/toPrecisedFloat\";import getZoomFitFactor from\"../../../utils/getZoomFitFactor\";import{StyledOpenMenuButton}from\"./Crop.styled\";import{DEFAULT_CROP_PRESETS}from\"./Crop.constants\";import CropPresetGroupsList from\"./CropPresetGroupsFolder\";import CropPresetItem from\"./CropPresetItem\";var PREFIX_ICONS_DIMENS={height:16,width:16},CropPresetsOption=function(a){var b=a.anchorEl,c=a.onClose,d=useStore(),f=d.dispatch,g=d.t,e=d.adjustments;e=void 0===e?{}:e;var h=e.crop;h=void 0===h?{}:h;var i=h.ratio,j=h.ratioTitleKey,k=h.ratioFolderKey,l=d.shownImageDimensions,m=d.config,n=m[TOOLS_IDS.CROP],o=useMemo(function(){var a=n.presetsItems,b=void 0===a?[]:a,c=n.presetsFolders,d=void 0===c?[]:c;return[].concat(_toConsumableArray(d),_toConsumableArray(DEFAULT_CROP_PRESETS),_toConsumableArray(b))},[n]),p=function(a,b,d){a.stopPropagation();var e={ratio:b,ratioTitleKey:d.ratioTitleKey,ratioGroupKey:d.ratioGroupKey,ratioFolderKey:d.ratioFolderKey};f({type:SET_CROP,payload:e}),n.autoResize&&(f({type:SET_RESIZE,payload:{width:d.width,height:d.height,manualChangeDisabled:d.disableManualResize}}),f({type:ZOOM_CANVAS,payload:{factor:d.width>l.width||d.height>l.height?getZoomFitFactor(l,d):DEFAULT_ZOOM_FACTOR}})),c()};return React.createElement(React.Fragment,null,React.createElement(StyledToolsBarItemButtonLabel,{className:\"FIE_crop-tool-label FIE_selected-crop-preset-label\"},g(j||\"cropTool\")),React.createElement(StyledOpenMenuButton,{className:\"FIE_crop-presets-opener-button\",color:\"link\",size:\"lg\"},b?React.createElement(React.Fragment,null,\"\\u25B4\"):React.createElement(React.Fragment,null,\"\\u25BE\")),React.createElement(Menu,{className:\"FIE_crop-presets-menu\",anchorEl:b,enableOverlay:!0,onClose:c,open:!!b,position:\"top\"},o.map(function renderPreset(a){var b=a.titleKey,c=a.descriptionKey,d=a.ratio,e=a.width,f=a.height,h=a.groups,j=a.icon,l=a.disableManualResize;return h?React.createElement(CropPresetGroupsList,{key:b,titleKey:b,groups:h,Icon:j,onItemSelect:p,prefixIconDimensions:PREFIX_ICONS_DIMENS,t:g,disableManualResize:l}):React.createElement(CropPresetItem,{key:d,ratio:null!==d&&void 0!==d?d:toPrecisedFloat(e/f),titleKey:b,t:g,description:g(c),Icon:j,isActive:i===(null!==d&&void 0!==d?d:toPrecisedFloat(e/f))&&!k,width:e,height:f,onClick:p,disableManualResize:l})})))};CropPresetsOption.defaultProps={anchorEl:null};export default CropPresetsOption;"]},"metadata":{},"sourceType":"module"}