{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _annotationsNamesToKo,\n    _excluded = [\"width\", \"height\", \"startedX\", \"startedY\"];\n\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n\n  return c;\n}\n\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n\n  return a;\n}\n\nimport Konva from \"konva\";\nimport { TOOLS_IDS } from \"../../utils/constants\";\nvar annotationsNamesToKonvaClasses = (_annotationsNamesToKo = {}, _defineProperty(_annotationsNamesToKo, TOOLS_IDS.RECT, Konva.Rect), _defineProperty(_annotationsNamesToKo, TOOLS_IDS.ELLIPSE, Konva.Ellipse), _defineProperty(_annotationsNamesToKo, TOOLS_IDS.POLYGON, Konva.RegularPolygon), _defineProperty(_annotationsNamesToKo, TOOLS_IDS.LINE, Konva.Line), _defineProperty(_annotationsNamesToKo, TOOLS_IDS.IMAGE, Konva.Image), _defineProperty(_annotationsNamesToKo, TOOLS_IDS.TEXT, Konva.Text), _defineProperty(_annotationsNamesToKo, TOOLS_IDS.ARROW, Konva.Arrow), _annotationsNamesToKo),\n    ANNOTATIONS_WITH_POINTS = [TOOLS_IDS.LINE, TOOLS_IDS.ARROW];\nexport var NO_WIDTH_HEIGHT_ANNOTATIONS = [].concat(ANNOTATIONS_WITH_POINTS, [TOOLS_IDS.ELLIPSE, TOOLS_IDS.POLYGON]);\n\nvar getNewAnnotationPreview = function (a) {\n  var b, c, d;\n  return new annotationsNamesToKonvaClasses[a.name](_objectSpread(_objectSpread({}, a), {}, {\n    opacity: null !== (b = a.opacity) && void 0 !== b ? b : .7,\n    x: null !== (c = a.x) && void 0 !== c ? c : 0,\n    y: null !== (d = a.y) && void 0 !== d ? d : 0,\n    width: Math.abs(a.width) || 0,\n    height: Math.abs(a.height) || 0\n  }, ANNOTATIONS_WITH_POINTS.includes(a.name) ? {\n    stroke: a.stroke || \"#000000\"\n  } : {}));\n};\n\nexport var dimensToProperAnnotationDimens = function (a, b, c) {\n  var d = a.width,\n      e = a.height,\n      f = a.startedX,\n      g = a.startedY,\n      h = _objectWithoutProperties(a, _excluded),\n      i = Math.abs(d),\n      j = Math.abs(e),\n      k = 0 > d,\n      l = 0 > e;\n\n  switch (b) {\n    case TOOLS_IDS.RECT:\n      c ? (h.width = Math.sqrt(i * i + j * j), h.height = h.width, h.x -= k ? h.width - i : 0, h.y -= l ? h.height - j : 0) : (h.width = i, h.height = j);\n      break;\n\n    case TOOLS_IDS.ELLIPSE:\n      c ? (h.radiusX = Math.sqrt(i * i + j * j) / 2, h.radiusY = h.radiusX, h.x -= k ? 2 * h.radiusX - i : 0, h.y -= l ? 2 * h.radiusY - j : 0) : (h.radiusX = i / 2, h.radiusY = j / 2), h.offsetX = -h.radiusX, h.offsetY = -h.radiusY;\n      break;\n\n    case TOOLS_IDS.POLYGON:\n      h.radius = (i + j) / 2, h.x -= k ? 2 * h.radius - i : 0, h.y -= l ? 2 * h.radius - j : 0, h.offsetX = -h.radius, h.offsetY = -h.radius;\n      break;\n\n    case TOOLS_IDS.LINE:\n    case TOOLS_IDS.ARROW:\n      h.x = f, h.y = g, h.points = [0, 0], c ? h.points.push(i >= j ? d : 0, j > i ? e : 0) : h.points = [0, 0, d, e];\n      break;\n\n    default:\n      h.width = i, h.height = j;\n  }\n\n  return h;\n};\nexport default getNewAnnotationPreview;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/hooks/useAnnotation/getNewAnnotationPreview.js"],"names":["_objectWithoutProperties","_defineProperty","_annotationsNamesToKo","_excluded","ownKeys","a","b","c","Object","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","Konva","TOOLS_IDS","annotationsNamesToKonvaClasses","RECT","Rect","ELLIPSE","Ellipse","POLYGON","RegularPolygon","LINE","Line","IMAGE","Image","TEXT","Text","ARROW","Arrow","ANNOTATIONS_WITH_POINTS","NO_WIDTH_HEIGHT_ANNOTATIONS","concat","getNewAnnotationPreview","name","opacity","x","y","width","Math","abs","height","includes","stroke","dimensToProperAnnotationDimens","e","f","startedX","g","startedY","h","i","j","k","l","sqrt","radiusX","radiusY","offsetX","offsetY","radius","points"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";var _annotationsNamesToKo,_excluded=[\"width\",\"height\",\"startedX\",\"startedY\"];function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import Konva from\"konva\";import{TOOLS_IDS}from\"../../utils/constants\";var annotationsNamesToKonvaClasses=(_annotationsNamesToKo={},_defineProperty(_annotationsNamesToKo,TOOLS_IDS.RECT,Konva.Rect),_defineProperty(_annotationsNamesToKo,TOOLS_IDS.ELLIPSE,Konva.Ellipse),_defineProperty(_annotationsNamesToKo,TOOLS_IDS.POLYGON,Konva.RegularPolygon),_defineProperty(_annotationsNamesToKo,TOOLS_IDS.LINE,Konva.Line),_defineProperty(_annotationsNamesToKo,TOOLS_IDS.IMAGE,Konva.Image),_defineProperty(_annotationsNamesToKo,TOOLS_IDS.TEXT,Konva.Text),_defineProperty(_annotationsNamesToKo,TOOLS_IDS.ARROW,Konva.Arrow),_annotationsNamesToKo),ANNOTATIONS_WITH_POINTS=[TOOLS_IDS.LINE,TOOLS_IDS.ARROW];export var NO_WIDTH_HEIGHT_ANNOTATIONS=[].concat(ANNOTATIONS_WITH_POINTS,[TOOLS_IDS.ELLIPSE,TOOLS_IDS.POLYGON]);var getNewAnnotationPreview=function(a){var b,c,d;return new annotationsNamesToKonvaClasses[a.name](_objectSpread(_objectSpread({},a),{},{opacity:null!==(b=a.opacity)&&void 0!==b?b:.7,x:null!==(c=a.x)&&void 0!==c?c:0,y:null!==(d=a.y)&&void 0!==d?d:0,width:Math.abs(a.width)||0,height:Math.abs(a.height)||0},ANNOTATIONS_WITH_POINTS.includes(a.name)?{stroke:a.stroke||\"#000000\"}:{}))};export var dimensToProperAnnotationDimens=function(a,b,c){var d=a.width,e=a.height,f=a.startedX,g=a.startedY,h=_objectWithoutProperties(a,_excluded),i=Math.abs(d),j=Math.abs(e),k=0>d,l=0>e;switch(b){case TOOLS_IDS.RECT:c?(h.width=Math.sqrt(i*i+j*j),h.height=h.width,h.x-=k?h.width-i:0,h.y-=l?h.height-j:0):(h.width=i,h.height=j);break;case TOOLS_IDS.ELLIPSE:c?(h.radiusX=Math.sqrt(i*i+j*j)/2,h.radiusY=h.radiusX,h.x-=k?2*h.radiusX-i:0,h.y-=l?2*h.radiusY-j:0):(h.radiusX=i/2,h.radiusY=j/2),h.offsetX=-h.radiusX,h.offsetY=-h.radiusY;break;case TOOLS_IDS.POLYGON:h.radius=(i+j)/2,h.x-=k?2*h.radius-i:0,h.y-=l?2*h.radius-j:0,h.offsetX=-h.radius,h.offsetY=-h.radius;break;case TOOLS_IDS.LINE:case TOOLS_IDS.ARROW:h.x=f,h.y=g,h.points=[0,0],c?h.points.push(i>=j?d:0,j>i?e:0):h.points=[0,0,d,e];break;default:h.width=i,h.height=j;}return h};export default getNewAnnotationPreview;"]},"metadata":{},"sourceType":"module"}