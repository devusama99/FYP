{"ast":null,"code":"import { useMemo, useCallback } from \"react\";\nimport { SET_ANNOTATION, SELECT_ANNOTATION, SELECT_TOOL } from \"../actions\";\nimport { TOOLS_IDS, TABS_IDS, WATERMARK_ANNOTATION_ID } from \"../utils/constants\";\nimport useStore from \"./useStore\";\n\nvar useAnnotationEvents = function () {\n  var a = useStore(),\n      b = a.tabId,\n      c = a.dispatch,\n      d = useMemo(function () {\n    return b !== TABS_IDS.ANNOTATE && b !== TABS_IDS.WATERMARK;\n  }, [b]),\n      f = useCallback(function (a) {\n    c({\n      type: SET_ANNOTATION,\n      payload: a\n    });\n  }, []),\n      g = useCallback(function (a) {\n    f({\n      id: a.target.id(),\n      x: a.target.x(),\n      y: a.target.y()\n    });\n  }, []),\n      h = useCallback(function (a) {\n    var b = {\n      id: a.target.id(),\n      rotation: a.target.rotation(),\n      x: a.target.x(),\n      y: a.target.y()\n    };\n    return a.target.name() === TOOLS_IDS.TEXT ? (b.width = a.target.width() * a.target.scaleX(), b.height = a.target.height() * a.target.scaleY(), b.scaleX = 1, b.scaleY = 1) : (b.scaleX = a.target.scaleX(), b.scaleY = a.target.scaleY()), b;\n  }, []),\n      i = useCallback(function (a) {\n    f(h(a));\n  }, []),\n      j = useCallback(function (a) {\n    a.target.name() === TOOLS_IDS.TEXT && a.target.setAttrs(h(a));\n  }),\n      k = useCallback(function (a) {\n    if (a.target.id() !== WATERMARK_ANNOTATION_ID) {\n      var b = a.evt.ctrlKey || a.evt.shiftKey || a.evt.metaKey;\n      c({\n        type: SELECT_ANNOTATION,\n        payload: {\n          annotationId: a.target.id(),\n          multiple: b\n        }\n      }), c({\n        type: SELECT_TOOL,\n        payload: {\n          toolId: a.target.name(),\n          keepSelections: b\n        }\n      });\n    }\n  }, []);\n  return useMemo(function () {\n    return d ? {} : {\n      onTransform: j,\n      onTransformEnd: i,\n      onDragEnd: g,\n      onClick: k,\n      onTap: k\n    };\n  }, [d]);\n};\n\nexport default useAnnotationEvents;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/hooks/useAnnotationEvents.js"],"names":["useMemo","useCallback","SET_ANNOTATION","SELECT_ANNOTATION","SELECT_TOOL","TOOLS_IDS","TABS_IDS","WATERMARK_ANNOTATION_ID","useStore","useAnnotationEvents","a","b","tabId","c","dispatch","d","ANNOTATE","WATERMARK","f","type","payload","g","id","target","x","y","h","rotation","name","TEXT","width","scaleX","height","scaleY","i","j","setAttrs","k","evt","ctrlKey","shiftKey","metaKey","annotationId","multiple","toolId","keepSelections","onTransform","onTransformEnd","onDragEnd","onClick","onTap"],"mappings":"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","sourcesContent":["import{useMemo,useCallback}from\"react\";import{SET_ANNOTATION,SELECT_ANNOTATION,SELECT_TOOL}from\"../actions\";import{TOOLS_IDS,TABS_IDS,WATERMARK_ANNOTATION_ID}from\"../utils/constants\";import useStore from\"./useStore\";var useAnnotationEvents=function(){var a=useStore(),b=a.tabId,c=a.dispatch,d=useMemo(function(){return b!==TABS_IDS.ANNOTATE&&b!==TABS_IDS.WATERMARK},[b]),f=useCallback(function(a){c({type:SET_ANNOTATION,payload:a})},[]),g=useCallback(function(a){f({id:a.target.id(),x:a.target.x(),y:a.target.y()})},[]),h=useCallback(function(a){var b={id:a.target.id(),rotation:a.target.rotation(),x:a.target.x(),y:a.target.y()};return a.target.name()===TOOLS_IDS.TEXT?(b.width=a.target.width()*a.target.scaleX(),b.height=a.target.height()*a.target.scaleY(),b.scaleX=1,b.scaleY=1):(b.scaleX=a.target.scaleX(),b.scaleY=a.target.scaleY()),b},[]),i=useCallback(function(a){f(h(a))},[]),j=useCallback(function(a){a.target.name()===TOOLS_IDS.TEXT&&a.target.setAttrs(h(a))}),k=useCallback(function(a){if(a.target.id()!==WATERMARK_ANNOTATION_ID){var b=a.evt.ctrlKey||a.evt.shiftKey||a.evt.metaKey;c({type:SELECT_ANNOTATION,payload:{annotationId:a.target.id(),multiple:b}}),c({type:SELECT_TOOL,payload:{toolId:a.target.name(),keepSelections:b}})}},[]);return useMemo(function(){return d?{}:{onTransform:j,onTransformEnd:i,onDragEnd:g,onClick:k,onTap:k}},[d])};export default useAnnotationEvents;"]},"metadata":{},"sourceType":"module"}