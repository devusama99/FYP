{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport Minus from \"@scaleflex/icons/minus\";\nimport Plus from \"@scaleflex/icons/plus\";\nimport Menu from \"@scaleflex/ui/core/menu\";\nimport MenuItem, { MenuItemLabel } from \"@scaleflex/ui/core/menu-item\";\nimport { ZOOM_CANVAS } from \"../../actions\";\nimport { DEFAULT_ZOOM_FACTOR, TOOLS_IDS } from \"../../utils/constants\";\nimport { useStore } from \"../../hooks\";\nimport getZoomFitFactor from \"../../utils/getZoomFitFactor\";\nimport toPrecisedFloat from \"../../utils/toPrecisedFloat\";\nimport { StyledSmallButton, StyledZoomPercentageLabel } from \"./Topbar.styled\";\nimport { ZOOM_FACTORS_PRESETS } from \"./Topbar.constants\";\n\nvar MULTIPLY_ZOOM_FACTOR = 1.1,\n    CanvasZooming = function () {\n  var a = useStore(),\n      b = a.dispatch,\n      c = a.zoom,\n      d = void 0 === c ? {} : c,\n      e = a.toolId,\n      f = a.feedback,\n      g = a.t,\n      h = a.shownImageDimensions,\n      i = a.resize,\n      j = a.originalImage,\n      k = a.adjustments.crop,\n      l = a.config.useZoomPresetsMenu,\n      m = 0 === f.duration,\n      n = useState(null),\n      o = _slicedToArray(n, 2),\n      p = o[0],\n      q = o[1],\n      r = function (a) {\n    b({\n      type: ZOOM_CANVAS,\n      payload: {\n        factor: a\n      }\n    });\n  },\n      s = function () {\n    var a = i.width && i.height && i || k.width && k.height && k || h,\n        b = getZoomFitFactor(k.width && k.height && k || h, a);\n    r(b || DEFAULT_ZOOM_FACTOR);\n  },\n      t = function (a) {\n    q(p ? null : a.target);\n  },\n      u = function (a) {\n    if (\"fit\" === a) return s(), void t();\n    var b = Math.min(a * j.width / h.width, a * j.height / h.height);\n    r(b), t();\n  },\n      v = e === TOOLS_IDS.CROP || m,\n      w = !j || i.width || i.height ? d.factor : Math.min(h.width * d.factor / j.width, h.height * d.factor / j.height);\n\n  return React.createElement(React.Fragment, null, React.createElement(StyledSmallButton, {\n    onClick: function zoomOut() {\n      r(d.factor / MULTIPLY_ZOOM_FACTOR);\n    },\n    color: \"link\",\n    title: g(\"zoomOutTitle\"),\n    disabled: v,\n    className: \"FIE_topbar-zoom-out-btn\"\n  }, React.createElement(Minus, null)), React.createElement(StyledZoomPercentageLabel, {\n    title: g(\"toggleZoomMenuTitle\"),\n    onClick: v ? void 0 : l && t || s,\n    \"aria-disabled\": v,\n    className: \"FIE_topbar-zoom-label\"\n  }, \"\".concat(toPrecisedFloat(100 * w, 0), \"%\")), React.createElement(StyledSmallButton, {\n    onClick: function zoomIn() {\n      r(d.factor * MULTIPLY_ZOOM_FACTOR);\n    },\n    color: \"link\",\n    title: g(\"zoomInTitle\"),\n    disabled: v,\n    className: \"FIE_topbar-zoom-in-btn\"\n  }, React.createElement(Plus, null)), React.createElement(Menu, {\n    anchorEl: p,\n    onClose: t,\n    open: !!p,\n    position: \"bottom\",\n    className: \"FIE_topbar-zoom-menu\"\n  }, ZOOM_FACTORS_PRESETS.map(function (a) {\n    var b = a.factor,\n        c = a.labelKey,\n        d = a.label;\n    return React.createElement(MenuItem, {\n      key: d || c,\n      onClick: function onClick() {\n        return u(b);\n      }\n    }, React.createElement(MenuItemLabel, null, null !== d && void 0 !== d ? d : g(c)));\n  })));\n};\n\nexport default CanvasZooming;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/components/Topbar/CanvasZooming.js"],"names":["_slicedToArray","React","useState","Minus","Plus","Menu","MenuItem","MenuItemLabel","ZOOM_CANVAS","DEFAULT_ZOOM_FACTOR","TOOLS_IDS","useStore","getZoomFitFactor","toPrecisedFloat","StyledSmallButton","StyledZoomPercentageLabel","ZOOM_FACTORS_PRESETS","MULTIPLY_ZOOM_FACTOR","CanvasZooming","a","b","dispatch","c","zoom","d","e","toolId","f","feedback","g","t","h","shownImageDimensions","i","resize","j","originalImage","k","adjustments","crop","l","config","useZoomPresetsMenu","m","duration","n","o","p","q","r","type","payload","factor","s","width","height","target","u","Math","min","v","CROP","w","createElement","Fragment","onClick","zoomOut","color","title","disabled","className","concat","zoomIn","anchorEl","onClose","open","position","map","labelKey","label","key"],"mappings":"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","sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from\"react\";import Minus from\"@scaleflex/icons/minus\";import Plus from\"@scaleflex/icons/plus\";import Menu from\"@scaleflex/ui/core/menu\";import MenuItem,{MenuItemLabel}from\"@scaleflex/ui/core/menu-item\";import{ZOOM_CANVAS}from\"../../actions\";import{DEFAULT_ZOOM_FACTOR,TOOLS_IDS}from\"../../utils/constants\";import{useStore}from\"../../hooks\";import getZoomFitFactor from\"../../utils/getZoomFitFactor\";import toPrecisedFloat from\"../../utils/toPrecisedFloat\";import{StyledSmallButton,StyledZoomPercentageLabel}from\"./Topbar.styled\";import{ZOOM_FACTORS_PRESETS}from\"./Topbar.constants\";var MULTIPLY_ZOOM_FACTOR=1.1,CanvasZooming=function(){var a=useStore(),b=a.dispatch,c=a.zoom,d=void 0===c?{}:c,e=a.toolId,f=a.feedback,g=a.t,h=a.shownImageDimensions,i=a.resize,j=a.originalImage,k=a.adjustments.crop,l=a.config.useZoomPresetsMenu,m=0===f.duration,n=useState(null),o=_slicedToArray(n,2),p=o[0],q=o[1],r=function(a){b({type:ZOOM_CANVAS,payload:{factor:a}})},s=function(){var a=i.width&&i.height&&i||k.width&&k.height&&k||h,b=getZoomFitFactor(k.width&&k.height&&k||h,a);r(b||DEFAULT_ZOOM_FACTOR)},t=function(a){q(p?null:a.target)},u=function(a){if(\"fit\"===a)return s(),void t();var b=Math.min(a*j.width/h.width,a*j.height/h.height);r(b),t()},v=e===TOOLS_IDS.CROP||m,w=!j||i.width||i.height?d.factor:Math.min(h.width*d.factor/j.width,h.height*d.factor/j.height);return React.createElement(React.Fragment,null,React.createElement(StyledSmallButton,{onClick:function zoomOut(){r(d.factor/MULTIPLY_ZOOM_FACTOR)},color:\"link\",title:g(\"zoomOutTitle\"),disabled:v,className:\"FIE_topbar-zoom-out-btn\"},React.createElement(Minus,null)),React.createElement(StyledZoomPercentageLabel,{title:g(\"toggleZoomMenuTitle\"),onClick:v?void 0:l&&t||s,\"aria-disabled\":v,className:\"FIE_topbar-zoom-label\"},\"\".concat(toPrecisedFloat(100*w,0),\"%\")),React.createElement(StyledSmallButton,{onClick:function zoomIn(){r(d.factor*MULTIPLY_ZOOM_FACTOR)},color:\"link\",title:g(\"zoomInTitle\"),disabled:v,className:\"FIE_topbar-zoom-in-btn\"},React.createElement(Plus,null)),React.createElement(Menu,{anchorEl:p,onClose:t,open:!!p,position:\"bottom\",className:\"FIE_topbar-zoom-menu\"},ZOOM_FACTORS_PRESETS.map(function(a){var b=a.factor,c=a.labelKey,d=a.label;return React.createElement(MenuItem,{key:d||c,onClick:function onClick(){return u(b)}},React.createElement(MenuItemLabel,null,null!==d&&void 0!==d?d:g(c)))})))};export default CanvasZooming;"]},"metadata":{},"sourceType":"module"}