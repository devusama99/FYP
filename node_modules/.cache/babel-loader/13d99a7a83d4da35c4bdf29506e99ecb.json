{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/* eslint-disable @typescript-eslint/no-unnecessary-condition */\n\n/* eslint-disable react/forbid-prop-types */\n\n\nimport React, { useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PT from 'prop-types';\nimport { createPopper } from '@popperjs/core';\nimport usePortal from '../../hooks/use-portal';\nimport { intrinsicComponent, generateClassNames, useForkRef, objectValues } from '../../utils/functions';\nimport { Position, Strategy } from './types';\nimport Styled from './popper.styles';\nvar Popper = intrinsicComponent(function (_ref, ref // eslint-disable-next-line sonarjs/cognitive-complexity\n) {\n  var anchorEl = _ref.anchorEl,\n      children = _ref.children,\n      open = _ref.open,\n      _ref$position = _ref.position,\n      initialPlacement = _ref$position === void 0 ? 'bottom' : _ref$position,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? false : _ref$arrow,\n      popperOptions = _ref.popperOptions,\n      onClick = _ref.onClick,\n      _ref$overlay = _ref.overlay,\n      overlay = _ref$overlay === void 0 ? false : _ref$overlay,\n      _ref$zIndex = _ref.zIndex,\n      zIndex = _ref$zIndex === void 0 ? 1300 : _ref$zIndex,\n      enableUnderlayingEvent = _ref.enableUnderlayingEvent,\n      _ref$wrapperStyles = _ref.wrapperStyles,\n      wrapperStyles = _ref$wrapperStyles === void 0 ? {} : _ref$wrapperStyles;\n  var target = usePortal(generateClassNames('Popper'));\n  var popperRef = useRef(null);\n  var handlePopperRef = useForkRef(popperRef, ref);\n  useEffect(function () {\n    if (!anchorEl || !open || popperRef.current === null) {\n      return undefined;\n    }\n\n    var defaultModifiers = [{\n      name: 'arrow',\n      options: {\n        element: '[data-popper-arrow]'\n      }\n    }, {\n      name: 'offset',\n      options: {\n        offset: [0, 10]\n      }\n    }];\n    var popperModifiers = arrow ? defaultModifiers : [];\n\n    if (popperOptions && popperOptions.modifiers != null) {\n      popperModifiers = popperModifiers.concat(popperOptions.modifiers);\n    } // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n    var popper = createPopper(anchorEl, popperRef.current, _objectSpread(_objectSpread({\n      placement: initialPlacement\n    }, popperOptions), {}, {\n      modifiers: popperModifiers\n    }));\n    handlePopperRef.current = popper;\n    return function () {\n      popper.destroy();\n      handlePopperRef.current = null;\n    };\n  }, [anchorEl, open, popperOptions, initialPlacement, arrow]);\n\n  var passEventToUnderlayingEvent = function passEventToUnderlayingEvent(event) {\n    setTimeout(function () {\n      if (event.clientX && event.clientY) {\n        var elem = document.elementFromPoint(event.clientX, event.clientY);\n\n        if (elem) {\n          elem.dispatchEvent(event.nativeEvent);\n        }\n      }\n    }, 0);\n  };\n\n  var handleOnClicking = function handleOnClicking(event) {\n    event.persist();\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (onClick) {\n      onClick(event);\n    }\n\n    if (enableUnderlayingEvent) {\n      passEventToUnderlayingEvent(event);\n    }\n  };\n\n  var renderOverlay = function renderOverlay() {\n    return /*#__PURE__*/React.createElement(Styled.Overlay, {\n      onClick: handleOnClicking,\n      onContextMenu: handleOnClicking\n    });\n  };\n\n  if (!open) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: handlePopperRef\n    });\n  }\n\n  var render = function render() {\n    var _handlePopperRef$stat;\n\n    return /*#__PURE__*/React.createElement(Styled.PopperWrapper, {\n      zIndex: zIndex,\n      style: _objectSpread({}, wrapperStyles)\n    }, overlay && renderOverlay(), /*#__PURE__*/React.createElement(Styled.Popper, {\n      ref: handlePopperRef\n    }, children, arrow && /*#__PURE__*/React.createElement(Styled.Arrow, {\n      \"data-popper-arrow\": true,\n      position: (handlePopperRef === null || handlePopperRef === void 0 ? void 0 : (_handlePopperRef$stat = handlePopperRef.state) === null || _handlePopperRef$stat === void 0 ? void 0 : _handlePopperRef$stat.placement) || initialPlacement\n    })));\n  };\n\n  return /*#__PURE__*/createPortal(render(), target);\n});\nPopper.defaultProps = {};\nexport var propTypes = {\n  anchorEl: PT.oneOfType([PT.instanceOf(Element), PT.object]),\n  popperOptions: PT.shape({\n    modifiers: PT.arrayOf(PT.shape({\n      data: PT.object,\n      effect: PT.func,\n      enabled: PT.bool,\n      fn: PT.func,\n      name: PT.any.isRequired,\n      options: PT.object,\n      phase: PT.oneOf(['afterMain', 'afterRead', 'afterWrite', 'beforeMain', 'beforeRead', 'beforeWrite', 'main', 'read', 'write']),\n      requires: PT.arrayOf(PT.string),\n      requiresIfExists: PT.arrayOf(PT.string)\n    })),\n    onFirstUpdate: PT.func,\n    placement: PT.oneOf(objectValues(Position)),\n    strategy: PT.oneOf(objectValues(Strategy))\n  }),\n  overlay: PT.bool,\n  arrow: PT.bool,\n  zIndex: PT.number,\n  enableUnderlayingEvent: PT.bool,\n  wrapperStyles: PT.object\n};\nPopper.propTypes = propTypes;\nexport default Popper;","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/node_modules/@scaleflex/ui/core/popper/popper.component.js"],"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useRef","useEffect","createPortal","PT","createPopper","usePortal","intrinsicComponent","generateClassNames","useForkRef","objectValues","Position","Strategy","Styled","Popper","_ref","ref","anchorEl","children","open","_ref$position","position","initialPlacement","_ref$arrow","arrow","popperOptions","onClick","_ref$overlay","overlay","_ref$zIndex","zIndex","enableUnderlayingEvent","_ref$wrapperStyles","wrapperStyles","popperRef","handlePopperRef","current","undefined","defaultModifiers","name","options","element","offset","popperModifiers","modifiers","concat","popper","placement","destroy","passEventToUnderlayingEvent","event","setTimeout","clientX","clientY","elem","document","elementFromPoint","dispatchEvent","nativeEvent","handleOnClicking","persist","preventDefault","stopPropagation","renderOverlay","createElement","Overlay","onContextMenu","render","_handlePopperRef$stat","PopperWrapper","style","Arrow","state","defaultProps","propTypes","oneOfType","instanceOf","Element","shape","arrayOf","data","effect","func","enabled","bool","fn","any","isRequired","phase","oneOf","requires","string","requiresIfExists","onFirstUpdate","strategy","number"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,uCAA5B;;AAEA,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;;AAAoD,QAAIC,cAAJ,EAAoB;AAAEI,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,eAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,OAAjG,CAAV;AAA+G;;AAACP,IAAAA,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB;AAAiC;;AAAC,SAAOH,IAAP;AAAc;;AAEzV,SAASU,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEf,MAAAA,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAErB,QAAAA,eAAe,CAACe,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAIhB,MAAM,CAACiB,yBAAX,EAAsC;AAAEjB,MAAAA,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAAgCV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAElB,MAAAA,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEhB,QAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA8BM,GAA9B,EAAmChB,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAON,MAAP;AAAgB;AAEthB;;AAEA;;;AACA,OAAOU,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,EAAiDC,UAAjD,EAA6DC,YAA7D,QAAiF,uBAAjF;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,SAAnC;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,IAAIC,MAAM,GAAGP,kBAAkB,CAAC,UAAUQ,IAAV,EAAgBC,GAAhB,CAAoB;AAApB,EAC9B;AACA,MAAIC,QAAQ,GAAGF,IAAI,CAACE,QAApB;AAAA,MACIC,QAAQ,GAAGH,IAAI,CAACG,QADpB;AAAA,MAEIC,IAAI,GAAGJ,IAAI,CAACI,IAFhB;AAAA,MAGIC,aAAa,GAAGL,IAAI,CAACM,QAHzB;AAAA,MAIIC,gBAAgB,GAAGF,aAAa,KAAK,KAAK,CAAvB,GAA2B,QAA3B,GAAsCA,aAJ7D;AAAA,MAKIG,UAAU,GAAGR,IAAI,CAACS,KALtB;AAAA,MAMIA,KAAK,GAAGD,UAAU,KAAK,KAAK,CAApB,GAAwB,KAAxB,GAAgCA,UAN5C;AAAA,MAOIE,aAAa,GAAGV,IAAI,CAACU,aAPzB;AAAA,MAQIC,OAAO,GAAGX,IAAI,CAACW,OARnB;AAAA,MASIC,YAAY,GAAGZ,IAAI,CAACa,OATxB;AAAA,MAUIA,OAAO,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,KAA1B,GAAkCA,YAVhD;AAAA,MAWIE,WAAW,GAAGd,IAAI,CAACe,MAXvB;AAAA,MAYIA,MAAM,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyB,IAAzB,GAAgCA,WAZ7C;AAAA,MAaIE,sBAAsB,GAAGhB,IAAI,CAACgB,sBAblC;AAAA,MAcIC,kBAAkB,GAAGjB,IAAI,CAACkB,aAd9B;AAAA,MAeIA,aAAa,GAAGD,kBAAkB,KAAK,KAAK,CAA5B,GAAgC,EAAhC,GAAqCA,kBAfzD;AAgBA,MAAI1C,MAAM,GAAGgB,SAAS,CAACE,kBAAkB,CAAC,QAAD,CAAnB,CAAtB;AACA,MAAI0B,SAAS,GAAGjC,MAAM,CAAC,IAAD,CAAtB;AACA,MAAIkC,eAAe,GAAG1B,UAAU,CAACyB,SAAD,EAAYlB,GAAZ,CAAhC;AACAd,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI,CAACe,QAAD,IAAa,CAACE,IAAd,IAAsBe,SAAS,CAACE,OAAV,KAAsB,IAAhD,EAAsD;AACpD,aAAOC,SAAP;AACD;;AAED,QAAIC,gBAAgB,GAAG,CAAC;AACtBC,MAAAA,IAAI,EAAE,OADgB;AAEtBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,OAAO,EAAE;AADF;AAFa,KAAD,EAKpB;AACDF,MAAAA,IAAI,EAAE,QADL;AAEDC,MAAAA,OAAO,EAAE;AACPE,QAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,EAAJ;AADD;AAFR,KALoB,CAAvB;AAWA,QAAIC,eAAe,GAAGnB,KAAK,GAAGc,gBAAH,GAAsB,EAAjD;;AAEA,QAAIb,aAAa,IAAIA,aAAa,CAACmB,SAAd,IAA2B,IAAhD,EAAsD;AACpDD,MAAAA,eAAe,GAAGA,eAAe,CAACE,MAAhB,CAAuBpB,aAAa,CAACmB,SAArC,CAAlB;AACD,KApBmB,CAoBlB;;;AAGF,QAAIE,MAAM,GAAGzC,YAAY,CAACY,QAAD,EAAWiB,SAAS,CAACE,OAArB,EAA8B/C,aAAa,CAACA,aAAa,CAAC;AACjF0D,MAAAA,SAAS,EAAEzB;AADsE,KAAD,EAE/EG,aAF+E,CAAd,EAEjD,EAFiD,EAE7C;AACrBmB,MAAAA,SAAS,EAAED;AADU,KAF6C,CAA3C,CAAzB;AAKAR,IAAAA,eAAe,CAACC,OAAhB,GAA0BU,MAA1B;AACA,WAAO,YAAY;AACjBA,MAAAA,MAAM,CAACE,OAAP;AACAb,MAAAA,eAAe,CAACC,OAAhB,GAA0B,IAA1B;AACD,KAHD;AAID,GAjCQ,EAiCN,CAACnB,QAAD,EAAWE,IAAX,EAAiBM,aAAjB,EAAgCH,gBAAhC,EAAkDE,KAAlD,CAjCM,CAAT;;AAmCA,MAAIyB,2BAA2B,GAAG,SAASA,2BAAT,CAAqCC,KAArC,EAA4C;AAC5EC,IAAAA,UAAU,CAAC,YAAY;AACrB,UAAID,KAAK,CAACE,OAAN,IAAiBF,KAAK,CAACG,OAA3B,EAAoC;AAClC,YAAIC,IAAI,GAAGC,QAAQ,CAACC,gBAAT,CAA0BN,KAAK,CAACE,OAAhC,EAAyCF,KAAK,CAACG,OAA/C,CAAX;;AAEA,YAAIC,IAAJ,EAAU;AACRA,UAAAA,IAAI,CAACG,aAAL,CAAmBP,KAAK,CAACQ,WAAzB;AACD;AACF;AACF,KARS,EAQP,CARO,CAAV;AASD,GAVD;;AAYA,MAAIC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BT,KAA1B,EAAiC;AACtDA,IAAAA,KAAK,CAACU,OAAN;AACAV,IAAAA,KAAK,CAACW,cAAN;AACAX,IAAAA,KAAK,CAACY,eAAN;;AAEA,QAAIpC,OAAJ,EAAa;AACXA,MAAAA,OAAO,CAACwB,KAAD,CAAP;AACD;;AAED,QAAInB,sBAAJ,EAA4B;AAC1BkB,MAAAA,2BAA2B,CAACC,KAAD,CAA3B;AACD;AACF,GAZD;;AAcA,MAAIa,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,WAAO,aAAa/D,KAAK,CAACgE,aAAN,CAAoBnD,MAAM,CAACoD,OAA3B,EAAoC;AACtDvC,MAAAA,OAAO,EAAEiC,gBAD6C;AAEtDO,MAAAA,aAAa,EAAEP;AAFuC,KAApC,CAApB;AAID,GALD;;AAOA,MAAI,CAACxC,IAAL,EAAW;AACT,WAAO,aAAanB,KAAK,CAACgE,aAAN,CAAoB,KAApB,EAA2B;AAC7ChD,MAAAA,GAAG,EAAEmB;AADwC,KAA3B,CAApB;AAGD;;AAED,MAAIgC,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,QAAIC,qBAAJ;;AAEA,WAAO,aAAapE,KAAK,CAACgE,aAAN,CAAoBnD,MAAM,CAACwD,aAA3B,EAA0C;AAC5DvC,MAAAA,MAAM,EAAEA,MADoD;AAE5DwC,MAAAA,KAAK,EAAEjF,aAAa,CAAC,EAAD,EAAK4C,aAAL;AAFwC,KAA1C,EAGjBL,OAAO,IAAImC,aAAa,EAHP,EAGW,aAAa/D,KAAK,CAACgE,aAAN,CAAoBnD,MAAM,CAACC,MAA3B,EAAmC;AAC7EE,MAAAA,GAAG,EAAEmB;AADwE,KAAnC,EAEzCjB,QAFyC,EAE/BM,KAAK,IAAI,aAAaxB,KAAK,CAACgE,aAAN,CAAoBnD,MAAM,CAAC0D,KAA3B,EAAkC;AACnE,2BAAqB,IAD8C;AAEnElD,MAAAA,QAAQ,EAAE,CAACc,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkE,CAACiC,qBAAqB,GAAGjC,eAAe,CAACqC,KAAzC,MAAoD,IAApD,IAA4DJ,qBAAqB,KAAK,KAAK,CAA3F,GAA+F,KAAK,CAApG,GAAwGA,qBAAqB,CAACrB,SAAjM,KAA+MzB;AAFtJ,KAAlC,CAFS,CAHxB,CAApB;AASD,GAZD;;AAcA,SAAO,aAAanB,YAAY,CAACgE,MAAM,EAAP,EAAW7E,MAAX,CAAhC;AACD,CA9G8B,CAA/B;AA+GAwB,MAAM,CAAC2D,YAAP,GAAsB,EAAtB;AACA,OAAO,IAAIC,SAAS,GAAG;AACrBzD,EAAAA,QAAQ,EAAEb,EAAE,CAACuE,SAAH,CAAa,CAACvE,EAAE,CAACwE,UAAH,CAAcC,OAAd,CAAD,EAAyBzE,EAAE,CAAC3B,MAA5B,CAAb,CADW;AAErBgD,EAAAA,aAAa,EAAErB,EAAE,CAAC0E,KAAH,CAAS;AACtBlC,IAAAA,SAAS,EAAExC,EAAE,CAAC2E,OAAH,CAAW3E,EAAE,CAAC0E,KAAH,CAAS;AAC7BE,MAAAA,IAAI,EAAE5E,EAAE,CAAC3B,MADoB;AAE7BwG,MAAAA,MAAM,EAAE7E,EAAE,CAAC8E,IAFkB;AAG7BC,MAAAA,OAAO,EAAE/E,EAAE,CAACgF,IAHiB;AAI7BC,MAAAA,EAAE,EAAEjF,EAAE,CAAC8E,IAJsB;AAK7B3C,MAAAA,IAAI,EAAEnC,EAAE,CAACkF,GAAH,CAAOC,UALgB;AAM7B/C,MAAAA,OAAO,EAAEpC,EAAE,CAAC3B,MANiB;AAO7B+G,MAAAA,KAAK,EAAEpF,EAAE,CAACqF,KAAH,CAAS,CAAC,WAAD,EAAc,WAAd,EAA2B,YAA3B,EAAyC,YAAzC,EAAuD,YAAvD,EAAqE,aAArE,EAAoF,MAApF,EAA4F,MAA5F,EAAoG,OAApG,CAAT,CAPsB;AAQ7BC,MAAAA,QAAQ,EAAEtF,EAAE,CAAC2E,OAAH,CAAW3E,EAAE,CAACuF,MAAd,CARmB;AAS7BC,MAAAA,gBAAgB,EAAExF,EAAE,CAAC2E,OAAH,CAAW3E,EAAE,CAACuF,MAAd;AATW,KAAT,CAAX,CADW;AAYtBE,IAAAA,aAAa,EAAEzF,EAAE,CAAC8E,IAZI;AAatBnC,IAAAA,SAAS,EAAE3C,EAAE,CAACqF,KAAH,CAAS/E,YAAY,CAACC,QAAD,CAArB,CAbW;AActBmF,IAAAA,QAAQ,EAAE1F,EAAE,CAACqF,KAAH,CAAS/E,YAAY,CAACE,QAAD,CAArB;AAdY,GAAT,CAFM;AAkBrBgB,EAAAA,OAAO,EAAExB,EAAE,CAACgF,IAlBS;AAmBrB5D,EAAAA,KAAK,EAAEpB,EAAE,CAACgF,IAnBW;AAoBrBtD,EAAAA,MAAM,EAAE1B,EAAE,CAAC2F,MApBU;AAqBrBhE,EAAAA,sBAAsB,EAAE3B,EAAE,CAACgF,IArBN;AAsBrBnD,EAAAA,aAAa,EAAE7B,EAAE,CAAC3B;AAtBG,CAAhB;AAwBPqC,MAAM,CAAC4D,SAAP,GAAmBA,SAAnB;AACA,eAAe5D,MAAf","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable @typescript-eslint/no-unnecessary-condition */\n\n/* eslint-disable react/forbid-prop-types */\nimport React, { useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PT from 'prop-types';\nimport { createPopper } from '@popperjs/core';\nimport usePortal from '../../hooks/use-portal';\nimport { intrinsicComponent, generateClassNames, useForkRef, objectValues } from '../../utils/functions';\nimport { Position, Strategy } from './types';\nimport Styled from './popper.styles';\nvar Popper = intrinsicComponent(function (_ref, ref // eslint-disable-next-line sonarjs/cognitive-complexity\n) {\n  var anchorEl = _ref.anchorEl,\n      children = _ref.children,\n      open = _ref.open,\n      _ref$position = _ref.position,\n      initialPlacement = _ref$position === void 0 ? 'bottom' : _ref$position,\n      _ref$arrow = _ref.arrow,\n      arrow = _ref$arrow === void 0 ? false : _ref$arrow,\n      popperOptions = _ref.popperOptions,\n      onClick = _ref.onClick,\n      _ref$overlay = _ref.overlay,\n      overlay = _ref$overlay === void 0 ? false : _ref$overlay,\n      _ref$zIndex = _ref.zIndex,\n      zIndex = _ref$zIndex === void 0 ? 1300 : _ref$zIndex,\n      enableUnderlayingEvent = _ref.enableUnderlayingEvent,\n      _ref$wrapperStyles = _ref.wrapperStyles,\n      wrapperStyles = _ref$wrapperStyles === void 0 ? {} : _ref$wrapperStyles;\n  var target = usePortal(generateClassNames('Popper'));\n  var popperRef = useRef(null);\n  var handlePopperRef = useForkRef(popperRef, ref);\n  useEffect(function () {\n    if (!anchorEl || !open || popperRef.current === null) {\n      return undefined;\n    }\n\n    var defaultModifiers = [{\n      name: 'arrow',\n      options: {\n        element: '[data-popper-arrow]'\n      }\n    }, {\n      name: 'offset',\n      options: {\n        offset: [0, 10]\n      }\n    }];\n    var popperModifiers = arrow ? defaultModifiers : [];\n\n    if (popperOptions && popperOptions.modifiers != null) {\n      popperModifiers = popperModifiers.concat(popperOptions.modifiers);\n    } // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n    var popper = createPopper(anchorEl, popperRef.current, _objectSpread(_objectSpread({\n      placement: initialPlacement\n    }, popperOptions), {}, {\n      modifiers: popperModifiers\n    }));\n    handlePopperRef.current = popper;\n    return function () {\n      popper.destroy();\n      handlePopperRef.current = null;\n    };\n  }, [anchorEl, open, popperOptions, initialPlacement, arrow]);\n\n  var passEventToUnderlayingEvent = function passEventToUnderlayingEvent(event) {\n    setTimeout(function () {\n      if (event.clientX && event.clientY) {\n        var elem = document.elementFromPoint(event.clientX, event.clientY);\n\n        if (elem) {\n          elem.dispatchEvent(event.nativeEvent);\n        }\n      }\n    }, 0);\n  };\n\n  var handleOnClicking = function handleOnClicking(event) {\n    event.persist();\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (onClick) {\n      onClick(event);\n    }\n\n    if (enableUnderlayingEvent) {\n      passEventToUnderlayingEvent(event);\n    }\n  };\n\n  var renderOverlay = function renderOverlay() {\n    return /*#__PURE__*/React.createElement(Styled.Overlay, {\n      onClick: handleOnClicking,\n      onContextMenu: handleOnClicking\n    });\n  };\n\n  if (!open) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: handlePopperRef\n    });\n  }\n\n  var render = function render() {\n    var _handlePopperRef$stat;\n\n    return /*#__PURE__*/React.createElement(Styled.PopperWrapper, {\n      zIndex: zIndex,\n      style: _objectSpread({}, wrapperStyles)\n    }, overlay && renderOverlay(), /*#__PURE__*/React.createElement(Styled.Popper, {\n      ref: handlePopperRef\n    }, children, arrow && /*#__PURE__*/React.createElement(Styled.Arrow, {\n      \"data-popper-arrow\": true,\n      position: (handlePopperRef === null || handlePopperRef === void 0 ? void 0 : (_handlePopperRef$stat = handlePopperRef.state) === null || _handlePopperRef$stat === void 0 ? void 0 : _handlePopperRef$stat.placement) || initialPlacement\n    })));\n  };\n\n  return /*#__PURE__*/createPortal(render(), target);\n});\nPopper.defaultProps = {};\nexport var propTypes = {\n  anchorEl: PT.oneOfType([PT.instanceOf(Element), PT.object]),\n  popperOptions: PT.shape({\n    modifiers: PT.arrayOf(PT.shape({\n      data: PT.object,\n      effect: PT.func,\n      enabled: PT.bool,\n      fn: PT.func,\n      name: PT.any.isRequired,\n      options: PT.object,\n      phase: PT.oneOf(['afterMain', 'afterRead', 'afterWrite', 'beforeMain', 'beforeRead', 'beforeWrite', 'main', 'read', 'write']),\n      requires: PT.arrayOf(PT.string),\n      requiresIfExists: PT.arrayOf(PT.string)\n    })),\n    onFirstUpdate: PT.func,\n    placement: PT.oneOf(objectValues(Position)),\n    strategy: PT.oneOf(objectValues(Strategy))\n  }),\n  overlay: PT.bool,\n  arrow: PT.bool,\n  zIndex: PT.number,\n  enableUnderlayingEvent: PT.bool,\n  wrapperStyles: PT.object\n};\nPopper.propTypes = propTypes;\nexport default Popper;"]},"metadata":{},"sourceType":"module"}