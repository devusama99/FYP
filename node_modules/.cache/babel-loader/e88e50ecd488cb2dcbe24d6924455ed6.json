{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n\n  return c;\n}\n\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n    _defineProperty(a, c, b[c]);\n  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n    Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n  });\n\n  return a;\n}\n\nimport defaultTranslations from \"../context/defaultTranslations\";\nimport { TRANSLATIONS_GRID_UUID } from \"./constants\";\n\nvar backendTranslations = {},\n    activatedTranslations = _objectSpread({}, defaultTranslations),\n    hardcodedErrorMsg = \"Error while loading translations from backend.\";\n\nexport var updateTranslations = function () {\n  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : {},\n      b = 1 < arguments.length && arguments[1] !== void 0 ? arguments[1] : \"en\";\n  return Object.assign(activatedTranslations, backendTranslations[null === b || void 0 === b ? void 0 : b.toLowerCase()] || {}, a);\n};\n\nvar sendMissingTranslationsToBackend = function () {\n  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : [];\n  return new Promise(function (b, c) {\n    var d = new XMLHttpRequest();\n    d.responseType = \"json\", d.onload = function () {\n      if (200 <= d.status && 300 > d.status) b(d.response);else {\n        var a;\n        console.warn(\"Error in sending translation key to backend \".concat(null === (a = d.response) || void 0 === a ? void 0 : a.hint, \", \").concat(d.status)), c();\n      }\n    }, d.onerror = function () {\n      var a;\n      console.warn(\"Error in sending translation key to backend \".concat(null === (a = d.response) || void 0 === a ? void 0 : a.hint, \", \").concat(d.status)), c();\n    };\n    d.open(\"POST\", \"https://neo.wordplex.io/api/import/request-translations?grid_uuid=\".concat(TRANSLATIONS_GRID_UUID)), d.send(JSON.stringify({\n      grid_uuid: TRANSLATIONS_GRID_UUID,\n      translations_requests: a\n    }));\n  });\n};\n\nexport var getBackendTranslations = function () {\n  var a = 0 < arguments.length && arguments[0] !== void 0 ? arguments[0] : \"en\",\n      b = 1 < arguments.length ? arguments[1] : void 0;\n  return new Promise(function (c, d) {\n    var e = a.toLowerCase(),\n        f = new XMLHttpRequest();\n    f.responseType = \"json\", f.onload = function () {\n      if (200 <= f.status && 300 > f.status) {\n        (f.response || []).forEach(function (a) {\n          backendTranslations[e] = _objectSpread(_objectSpread({}, backendTranslations[e]), {}, _defineProperty({}, a.translation_key, a.translations[e]));\n        });\n        var i = [];\n        Object.keys(defaultTranslations).forEach(function (a) {\n          var b;\n          a && !(null !== (b = backendTranslations[e]) && void 0 !== b && b[a]) && i.push({\n            key: a,\n            lang: e,\n            default: defaultTranslations[a]\n          });\n        }), 0 < i.length && sendMissingTranslationsToBackend(i), updateTranslations(b, e), c(activatedTranslations);\n      } else {\n        var a, g, h;\n        console.error(\"Status code: \".concat(f.status)), console.error((null === (a = f.response) || void 0 === a ? void 0 : a.msg) || (null === (g = f.response) || void 0 === g ? void 0 : g.msg) || (null === (h = f.response) || void 0 === h ? void 0 : h.details) || hardcodedErrorMsg), d();\n      }\n    }, f.onerror = function () {\n      console.error(\"Status code \".concat(f.status, \", error: \").concat(hardcodedErrorMsg)), d();\n    }, f.open(\"GET\", \"https://i18n.ultrafast.io/api/export?grid=\".concat(TRANSLATIONS_GRID_UUID)), f.send();\n  });\n};\nexport var translate = function (a) {\n  return activatedTranslations[a] || a || \"\";\n};","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/utils/translator.js"],"names":["_defineProperty","ownKeys","a","b","c","Object","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","defaultTranslations","TRANSLATIONS_GRID_UUID","backendTranslations","activatedTranslations","hardcodedErrorMsg","updateTranslations","assign","toLowerCase","sendMissingTranslationsToBackend","Promise","XMLHttpRequest","responseType","onload","status","response","console","warn","concat","hint","onerror","open","send","JSON","stringify","grid_uuid","translations_requests","getBackendTranslations","e","f","translation_key","translations","i","key","lang","default","g","h","error","msg","details","translate"],"mappings":"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","sourcesContent":["import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}import defaultTranslations from\"../context/defaultTranslations\";import{TRANSLATIONS_GRID_UUID}from\"./constants\";var backendTranslations={},activatedTranslations=_objectSpread({},defaultTranslations),hardcodedErrorMsg=\"Error while loading translations from backend.\";export var updateTranslations=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:\"en\";return Object.assign(activatedTranslations,backendTranslations[null===b||void 0===b?void 0:b.toLowerCase()]||{},a)};var sendMissingTranslationsToBackend=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[];return new Promise(function(b,c){var d=new XMLHttpRequest;d.responseType=\"json\",d.onload=function(){if(200<=d.status&&300>d.status)b(d.response);else{var a;console.warn(\"Error in sending translation key to backend \".concat(null===(a=d.response)||void 0===a?void 0:a.hint,\", \").concat(d.status)),c()}},d.onerror=function(){var a;console.warn(\"Error in sending translation key to backend \".concat(null===(a=d.response)||void 0===a?void 0:a.hint,\", \").concat(d.status)),c()};d.open(\"POST\",\"https://neo.wordplex.io/api/import/request-translations?grid_uuid=\".concat(TRANSLATIONS_GRID_UUID)),d.send(JSON.stringify({grid_uuid:TRANSLATIONS_GRID_UUID,translations_requests:a}))})};export var getBackendTranslations=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:\"en\",b=1<arguments.length?arguments[1]:void 0;return new Promise(function(c,d){var e=a.toLowerCase(),f=new XMLHttpRequest;f.responseType=\"json\",f.onload=function(){if(200<=f.status&&300>f.status){(f.response||[]).forEach(function(a){backendTranslations[e]=_objectSpread(_objectSpread({},backendTranslations[e]),{},_defineProperty({},a.translation_key,a.translations[e]))});var i=[];Object.keys(defaultTranslations).forEach(function(a){var b;a&&!(null!==(b=backendTranslations[e])&&void 0!==b&&b[a])&&i.push({key:a,lang:e,default:defaultTranslations[a]})}),0<i.length&&sendMissingTranslationsToBackend(i),updateTranslations(b,e),c(activatedTranslations)}else{var a,g,h;console.error(\"Status code: \".concat(f.status)),console.error((null===(a=f.response)||void 0===a?void 0:a.msg)||(null===(g=f.response)||void 0===g?void 0:g.msg)||(null===(h=f.response)||void 0===h?void 0:h.details)||hardcodedErrorMsg),d()}},f.onerror=function(){console.error(\"Status code \".concat(f.status,\", error: \").concat(hardcodedErrorMsg)),d()},f.open(\"GET\",\"https://i18n.ultrafast.io/api/export?grid=\".concat(TRANSLATIONS_GRID_UUID)),f.send()})};export var translate=function(a){return activatedTranslations[a]||a||\"\"};"]},"metadata":{},"sourceType":"module"}