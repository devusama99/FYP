{"ast":null,"code":"var textarea,\n    textNode,\n    transformer,\n    editFinishCallback,\n    disableTextEditCallback,\n    handleOutsideClick = function (a) {\n  if (a.target !== textarea) {\n    var b = textarea.value;\n    deactivateTextChange(), editFinishCallback(b);\n  }\n},\n    deactivateTextChange = function () {\n  textarea && textarea.remove(textarea), window && window.removeEventListener(\"click\", handleOutsideClick), textNode && textNode.show(), transformer && (transformer.show(), transformer.forceUpdate()), \"function\" == typeof disableTextEditCallback && disableTextEditCallback(), textNode = null, textarea = null, transformer = null;\n},\n    activateTextChange = function (a, b, c, d, e) {\n  function f(a) {\n    var b = a;\n    b || (b = textNode.placeholder.length * textNode.fontSize());\n    var c = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    (c || k) && (b = Math.ceil(b));\n    var d = document.documentMode || /Edge/.test(navigator.userAgent);\n    d && (b += 1), textarea.style.width = \"\".concat(b, \"px\");\n  }\n\n  editFinishCallback = d, disableTextEditCallback = e, transformer = c, textNode = b.findOne(\"#\".concat(a)), textNode.hide(), transformer.hide();\n  var g = textNode.absolutePosition();\n  textarea = document.createElement(\"textarea\"), b.container().parentNode.appendChild(textarea), textarea.value = textNode.text(), textarea.style.position = \"absolute\", textarea.style.top = \"\".concat(g.y, \"px\"), textarea.style.left = \"\".concat(g.x, \"px\"), textarea.style.width = \"\".concat(textNode.width() - 2 * textNode.padding(), \"px\"), textarea.style.height = \"\".concat(textNode.height() - 2 * textNode.padding() + 5, \"px\"), textarea.style.maxWidth = \"\".concat(textNode.width() - 2 * textNode.padding(), \"px\"), textarea.style.maxHeight = \"\".concat(textNode.height() - 2 * textNode.padding() + 5, \"px\"), textarea.style.fontSize = \"\".concat(textNode.fontSize(), \"px\"), textarea.style.border = \"1px solid rgba(0, 0, 0, 0.5)\", textarea.style.padding = \"0px\", textarea.style.margin = \"0px\", textarea.style.overflow = \"hidden\", textarea.style.background = \"none\", textarea.style.outline = \"none\", textarea.style.resize = \"none\", textarea.style.lineHeight = textNode.lineHeight(), textarea.style.fontFamily = textNode.fontFamily(), textarea.style.transformOrigin = \"left top\", textarea.style.textAlign = textNode.align(), textarea.style.fontStyle = textNode.fontStyle(), textarea.style.letterSpacing = textNode.letterSpacing(), textarea.style.lineHeight = textNode.lineHeight(), textarea.style.color = textNode.fill();\n  var h = textNode.rotation(),\n      i = \"\";\n  h && (i += \"rotateZ(\".concat(h, \"deg)\"));\n  var j = 0,\n      k = -1 < navigator.userAgent.toLowerCase().indexOf(\"firefox\");\n  k && (j += 2 + Math.round(textNode.fontSize() / 20)), i += \"translateY(-\".concat(j, \"px)\"), textarea.style.transform = i, textarea.style.height = \"auto\", textarea.style.height = \"\".concat(textarea.scrollHeight + 3, \"px\"), textarea.focus(), textarea.addEventListener(\"keydown\", function (a) {\n    if (\"Enter\" === a.key && !a.shiftKey) {\n      var b = textarea.value;\n      deactivateTextChange(), editFinishCallback(b);\n    }\n\n    \"Escape\" === a.key && deactivateTextChange();\n  }), textarea.addEventListener(\"keydown\", function (a) {\n    if (\"Enter\" !== a.key && \"Escape\" !== a.key) {\n      var b = textNode.getAbsoluteScale().x;\n      f(textNode.width() * b), textarea.style.height = \"auto\", textarea.style.height = \"\".concat(textarea.scrollHeight + textNode.fontSize(), \"px\");\n    }\n  }), window && setTimeout(function () {\n    window.addEventListener(\"click\", handleOutsideClick);\n  });\n};\n\nexport { activateTextChange, deactivateTextChange };","map":{"version":3,"sources":["/Users/devusama/Work/FYP_FrontEnd/node_modules/react-filerobot-image-editor/lib/components/tools/Text/TextOptions/handleTextChangeArea.js"],"names":["textarea","textNode","transformer","editFinishCallback","disableTextEditCallback","handleOutsideClick","a","target","b","value","deactivateTextChange","remove","window","removeEventListener","show","forceUpdate","activateTextChange","c","d","e","f","placeholder","length","fontSize","test","navigator","userAgent","k","Math","ceil","document","documentMode","style","width","concat","findOne","hide","g","absolutePosition","createElement","container","parentNode","appendChild","text","position","top","y","left","x","padding","height","maxWidth","maxHeight","border","margin","overflow","background","outline","resize","lineHeight","fontFamily","transformOrigin","textAlign","align","fontStyle","letterSpacing","color","fill","h","rotation","i","j","toLowerCase","indexOf","round","transform","scrollHeight","focus","addEventListener","key","shiftKey","getAbsoluteScale","setTimeout"],"mappings":"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","sourcesContent":["var textarea,textNode,transformer,editFinishCallback,disableTextEditCallback,handleOutsideClick=function(a){if(a.target!==textarea){var b=textarea.value;deactivateTextChange(),editFinishCallback(b)}},deactivateTextChange=function(){textarea&&textarea.remove(textarea),window&&window.removeEventListener(\"click\",handleOutsideClick),textNode&&textNode.show(),transformer&&(transformer.show(),transformer.forceUpdate()),\"function\"==typeof disableTextEditCallback&&disableTextEditCallback(),textNode=null,textarea=null,transformer=null},activateTextChange=function(a,b,c,d,e){function f(a){var b=a;b||(b=textNode.placeholder.length*textNode.fontSize());var c=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);(c||k)&&(b=Math.ceil(b));var d=document.documentMode||/Edge/.test(navigator.userAgent);d&&(b+=1),textarea.style.width=\"\".concat(b,\"px\")}editFinishCallback=d,disableTextEditCallback=e,transformer=c,textNode=b.findOne(\"#\".concat(a)),textNode.hide(),transformer.hide();var g=textNode.absolutePosition();textarea=document.createElement(\"textarea\"),b.container().parentNode.appendChild(textarea),textarea.value=textNode.text(),textarea.style.position=\"absolute\",textarea.style.top=\"\".concat(g.y,\"px\"),textarea.style.left=\"\".concat(g.x,\"px\"),textarea.style.width=\"\".concat(textNode.width()-2*textNode.padding(),\"px\"),textarea.style.height=\"\".concat(textNode.height()-2*textNode.padding()+5,\"px\"),textarea.style.maxWidth=\"\".concat(textNode.width()-2*textNode.padding(),\"px\"),textarea.style.maxHeight=\"\".concat(textNode.height()-2*textNode.padding()+5,\"px\"),textarea.style.fontSize=\"\".concat(textNode.fontSize(),\"px\"),textarea.style.border=\"1px solid rgba(0, 0, 0, 0.5)\",textarea.style.padding=\"0px\",textarea.style.margin=\"0px\",textarea.style.overflow=\"hidden\",textarea.style.background=\"none\",textarea.style.outline=\"none\",textarea.style.resize=\"none\",textarea.style.lineHeight=textNode.lineHeight(),textarea.style.fontFamily=textNode.fontFamily(),textarea.style.transformOrigin=\"left top\",textarea.style.textAlign=textNode.align(),textarea.style.fontStyle=textNode.fontStyle(),textarea.style.letterSpacing=textNode.letterSpacing(),textarea.style.lineHeight=textNode.lineHeight(),textarea.style.color=textNode.fill();var h=textNode.rotation(),i=\"\";h&&(i+=\"rotateZ(\".concat(h,\"deg)\"));var j=0,k=-1<navigator.userAgent.toLowerCase().indexOf(\"firefox\");k&&(j+=2+Math.round(textNode.fontSize()/20)),i+=\"translateY(-\".concat(j,\"px)\"),textarea.style.transform=i,textarea.style.height=\"auto\",textarea.style.height=\"\".concat(textarea.scrollHeight+3,\"px\"),textarea.focus(),textarea.addEventListener(\"keydown\",function(a){if(\"Enter\"===a.key&&!a.shiftKey){var b=textarea.value;deactivateTextChange(),editFinishCallback(b)}\"Escape\"===a.key&&deactivateTextChange()}),textarea.addEventListener(\"keydown\",function(a){if(\"Enter\"!==a.key&&\"Escape\"!==a.key){var b=textNode.getAbsoluteScale().x;f(textNode.width()*b),textarea.style.height=\"auto\",textarea.style.height=\"\".concat(textarea.scrollHeight+textNode.fontSize(),\"px\")}}),window&&setTimeout(function(){window.addEventListener(\"click\",handleOutsideClick)})};export{activateTextChange,deactivateTextChange};"]},"metadata":{},"sourceType":"module"}